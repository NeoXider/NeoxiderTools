# Компонент PlayAudioBtn

## 1. Введение

`PlayAudioBtn` — это узкоспециализированный компонент, созданный для одной цели: проигрывать звук при нажатии на кнопку `UnityEngine.UI.Button`. 

Он автоматически находит компонент `Button` на том же `GameObject` и подписывается на его событие `onClick`. Это самый быстрый способ добавить звуковой отклик на кнопки в вашем UI.

Компонент поддерживает два режима работы:
- **Legacy режим**: Воспроизведение по ID из массива звуков в AM (обратная совместимость).
- **Новый режим**: Воспроизведение напрямую из списка `AudioClip` с возможностью случайного выбора.

---

## 2. Описание класса

### PlayAudioBtn
- **Пространство имен**: `Neo.Audio`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Audio/AudioSimple/PlayAudioBtn.cs`

**Описание**
Автоматически привязывает воспроизведение звука из `AM` к событию `onClick` у `Button`.

**Ключевые особенности**
- **Двойной режим работы**: Поддерживает как воспроизведение по ID (legacy), так и напрямую по `AudioClip`.
- **Случайный выбор**: Если задан список клипов и включен `useRandomClip`, выбирается случайный клип из списка.
- **Авто-подписка**: В `OnEnable` компонент сам находит `Button` и добавляет `AudioPlay` в список его слушателей.
- **Безопасность**: В `OnDisable` компонент отписывается от события, чтобы избежать утечек памяти.

**Поля в инспекторе**
- `_idClip` (`int`): ID звука в массиве AM (legacy режим).
- `_clips` (`AudioClip[]`): Список клипов для воспроизведения (новый режим).
- `_useRandomClip` (`bool`): Если `true` и в списке больше 1 клипа - выбирается случайный.
- `_volume` (`float`): Громкость воспроизведения (0-1).

**Публичные методы**
- `AudioPlay()`: Воспроизводит настроенный звуковой эффект. Если заданы клипы - использует их (с случайным выбором если включено), иначе использует режим по ID. Этот метод публичен, чтобы его можно было привязать к `Button`, но обычно вызывается автоматически.
