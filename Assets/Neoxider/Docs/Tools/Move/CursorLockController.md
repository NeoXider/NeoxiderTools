# Компонент CursorLockController

## 1. Введение

`CursorLockController` — отдельный скрипт для управления состоянием курсора: скрыть/показать, lock/unlock, переключение по горячей клавише.

Подходит как вспомогательный компонент для FPS/TPS, меню паузы и игровых режимов с переключением между gameplay и UI.

---

## 2. Что делает

- На старте применяет выбранный режим (`_lockOnStart`).
- Может переключать состояние курсора по клавише (`_toggleKey`, по умолчанию `Escape`).
- Вызывает события:
  - `_onCursorLocked`
  - `_onCursorUnlocked`

---

## 3. Настройка

1. Добавьте `CursorLockController` на любой активный объект сцены (часто — на камеру или `GameManager`).
2. Включите/выключите `_lockOnStart`.
3. Если нужен ручной toggle:
   - включите `_allowToggle`
   - выберите `_toggleKey`.
4. При необходимости подпишите UnityEvent на открытие/закрытие UI.

---

## 4. Публичный API

- `IsLocked` — текущее состояние курсора.
- `SetCursorLocked(bool)` — установить lock/unlock вручную.
- `ToggleCursorState()` — инвертировать текущее состояние.
- `ShowCursor()` — показать курсор.
- `HideCursor()` — скрыть и заблокировать курсор.

---

## 5. Быстрый тест

1. Запустите сцену с включенным `_lockOnStart`.
2. Убедитесь, что курсор скрыт и заблокирован.
3. Нажмите `Escape`:
   - курсор должен появиться и разблокироваться.
4. Нажмите `Escape` повторно:
   - курсор снова скрывается и блокируется.

