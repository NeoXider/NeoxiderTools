# Компонент SetText

## 1. Введение

`SetText` — это компонент для удобной работы с `TextMeshPro`, который позволяет форматировать и анимированно изменять числовые значения. Он идеально подходит для отображения очков, валюты, процентов и других динамических данных, добавляя плавную анимацию перехода между старым и новым значением с помощью DOTween.

---

## 2. Описание класса

### SetText
- **Пространство имен**: `Neo.Tools`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/Text/SetText.cs`

**Описание**
Компонент берет на себя всю работу по форматированию чисел (добавление разделителей, знаков валют, процентов) и обеспечивает плавную анимацию при их изменении.

### Настройки в инспекторе

#### Text Component
- `text` (`TMP_Text`): Ссылка на компонент `TextMeshPro`, в который будет выводиться текст. Если не указан, компонент попытается найти его на том же объекте.

#### Formatting
- `separator` (`string`): Символ, используемый в качестве разделителя тысяч (например, "." или ",").
- `decimal` (`int`): Количество знаков после запятой для чисел с плавающей точкой.
- `startAdd` (`string`): Текст, который будет добавлен в начало строки.
- `endAdd` (`string`): Текст, который будет добавлен в конец строки.
- `indexOffset` (`int`): Смещение, которое добавляется к целочисленным значениям перед отображением.

#### Animation
- `_timeAnim` (`float`): Длительность анимации смены числа (в секундах).
- `_ease` (`Ease`): Тип замедления (easing) для анимации из библиотеки DOTween.
- `_onEnableAnim` (`bool`): Если `true`, анимация будет приостановлена, когда объект неактивен, и возобновится при включении.

### Публичные свойства (Public Properties)
- `Separator` (`string`): Позволяет программно изменять символ-разделитель.
- `DecimalPlaces` (`int`): Позволяет программно изменять количество знаков после запятой.
- `IndexOffset` (`int`): Позволяет программно изменять смещение для целых чисел.

### Публичные методы (Public Methods)
- `Set(int value)`: Устанавливает целочисленное значение (с учетом `indexOffset`), запуская анимацию.
- `Set(float value)`: Устанавливает значение с плавающей точкой, запуская анимацию.
- `Set(string value)`: Устанавливает текстовую строку напрямую, без анимации. Применяет префикс и суффикс.
- `SetPercentage(float value, bool addPercentSign = true)`: Форматирует число как процент (0-100) и устанавливает его как текст.
- `SetCurrency(float value, string currencySymbol = "$")`: Форматирует число как валюту, добавляя указанный символ.
- `Clear()`: Очищает текстовое поле.

### Unity Events
- `OnTextUpdated`: Вызывается, когда текст изменяется через метод `Set(string)`. Передает новую строку в качестве параметра.
