# Инструмент Camera Aspect Ratio Scaler

## 1. Введение

`CameraAspectRatioScaler` — инструмент для стабильной адаптации камеры под разные соотношения сторон. Компонент корректно работает и с ортографической, и с перспективной камерой: для 3D используется математически корректный пересчет FOV по горизонтали/вертикали, а для `FitBoth` доступен режим letterbox/pillarbox через `Camera.rect`.

Компонент поддерживает несколько режимов масштабирования, что позволяет выбрать оптимальную стратегию для вашего проекта, будь то 2D или 3D игра.

---

## 2. Описание класса

### CameraAspectRatioScaler
- **Пространство имен**: `Neo`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/CameraAspectRatioScaler.cs`

**Описание**
Компонент, который вешается на `Camera` и автоматически подстраивает ее параметры для адаптации к разным разрешениям экрана.

**Ключевые особенности**
- **Универсальность**: Работает как с ортографическими, так и с перспективными камерами.
- **Режимы масштабирования**:
  - `FitWidth`: Сохраняет ширину обзора, подстраивая высоту.
  - `FitHeight`: Сохраняет высоту обзора, подстраивая ширину.
  - `FitBoth`: Показывает целевую область целиком (без обрезки). Можно использовать:
    - масштабирование камеры;
    - `Camera.rect` для letterbox/pillarbox (`useViewportRectInFitBoth`).
- **Работа в редакторе и рантайме**: Есть отдельные флаги обновления в Play Mode и Edit Mode.
- **Оптимизация обновлений**: Перерасчет выполняется только при изменении параметров или размера экрана.

**Публичные методы**
- Основная логика работает автоматически.
- Для инспектора есть кнопка `Apply Camera Scale` для ручного форс-обновления.
