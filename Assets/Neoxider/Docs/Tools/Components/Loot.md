# Инструмент Loot

## 1. Введение

`Loot` — это простой компонент для реализации системы выпадения добычи (лута). Его можно повесить на врага, разрушаемый объект или сундук. По умолчанию, компонент создаст лут в момент уничтожения объекта (`OnDestroy`). Также можно вызвать выпадение вручную через метод `DropLoot()`.

Компонент с определенным шансом создаст на сцене случайное количество случайных предметов из заданного списка.

---

## 2. Описание класса

### Loot
- **Пространство имен**: `Neo.Tools`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/Components/Loot.cs`

**Описание**
Спавнит случайные префабы в качестве лута при уничтожении объекта или по вызову.

### Ключевые особенности
- **Автоматический спавн**: Может автоматически создавать лут при уничтожении объекта.
- **Шанс выпадения**: Можно настроить вероятность срабатывания.
- **Случайное количество**: Можно задать минимальное и максимальное количество предметов, которые выпадут за раз.
- **Случайные предметы**: Предметы для выпадения выбираются случайным образом из списка префабов.
- **Радиус разброса**: Можно указать радиус, в котором будут появляться предметы.

---

## Примеры

- **No-Code:** На кнопку или UnityEvent (например при открытии сундука) повесьте вызов **Loot.DropLoot** — объект с компонентом Loot → метод `DropLoot()`. При уничтожении объекта с Loot лут выпадает автоматически, если включено **Spawn On Destroy**.
- **Из кода:** `GetComponent<Loot>().DropLoot();` — принудительный дроп без уничтожения объекта.

Для взвешенного выбора типа лута (разные шансы на разные предметы) можно комбинировать с [ChanceSystemBehaviour](../Random/ChanceSystemBehaviour.md): бросок по индексу → по **Events By Index** вызывать DropLoot на нужном Loot-компоненте или спавнить выбранный префаб.

---

## 3. Настройки в инспекторе

- `lootItems` (`GameObject[]`): Массив префабов, которые могут выпасть в качестве лута.
- `dropChance` (`float`): Шанс выпадения лута от 0 (0%) до 1 (100%).
- `spawnOnDestroy` (`bool`): Если `true` (по умолчанию), лут будет автоматически выпадать при уничтожении этого объекта.
- `minCount` (`int`): Минимальное количество предметов, которое выпадет, если сработает шанс.
- `maxCount` (`int`): Максимальное количество предметов, которое выпадет, если сработает шанс.
- `dropRadius` (`float`): Радиус в метрах, в котором будут появляться предметы вокруг объекта.

---

## 4. Публичные методы

- `DropLoot()`: Запускает логику выпадения лута. Может быть вызван из других скриптов или через Unity Events.

---

## См. также

- [ChanceSystemBehaviour](../Random/ChanceSystemBehaviour.md) — взвешенный выбор типа лута по шансам (Events By Index).
