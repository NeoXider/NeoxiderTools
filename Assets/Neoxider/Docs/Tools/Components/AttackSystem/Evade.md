# Инструмент Evade

## 1. Введение

`Evade` — это компонент для реализации механики уклонения или рывка. Он управляет длительностью самого уклонения (в течение которого персонаж может быть неуязвимым) и временем перезарядки (cooldown), после которого способность можно использовать снова.

---

## 2. Описание класса

### Evade
- **Пространство имен**: `Neo.Tools`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/Components/AttackSystem/Evade.cs`

**Описание**
Управляет способностью уклонения и ее перезарядкой.

### Ключевые особенности
- **Длительность и перезарядка**: Позволяет настроить время действия уклонения и время его восстановления.
- **Гибкая перезарядка**: Можно настроить, начнется ли перезарядка сразу в момент уклонения или только после его завершения.
- **События**: Предоставляет события для каждой фазы: начало уклонения, его завершение, начало и конец перезарядки.
- **Прозрачность состояния**: Позволяет в любой момент узнать, находится ли персонаж в уклонении, на перезарядке, и каков прогресс восстановления.

---

## 3. Публичные поля (Настройки)

Эти поля можно изменять как в инспекторе, так и из других скриптов во время выполнения.

- `evadeDuration` (`float`): Длительность самого уклонения в секундах.
- `reloadTime` (`float`): Общее время перезарядки способности в секундах.
- `reloadImmediately` (`bool`): Если `true`, перезарядка начнется одновременно с уклонением. Если `false`, перезарядка начнется только после завершения уклонения.

---

## 4. Публичные свойства (Только для чтения)

Эти свойства позволяют получить информацию о текущем состоянии компонента из других скриптов.

- `IsEvading` (`bool`): Возвращает `true`, если персонаж в данный момент находится в процессе уклонения.
- `IsOnCooldown` (`bool`): Возвращает `true`, если способность в данный момент перезаряжается.
- `CooldownProgress` (`float`): Возвращает текущий прогресс перезарядки в виде значения от 0 до 1.

---

## 5. Публичные методы

- `StartEvade()`: Пытается начать уклонение. Сработает, только если способность не на перезарядке.
- `CanEvade()`: Проверяет, можно ли сейчас использовать уклонение. Возвращает `true`, если персонаж не в уклонении и способность не на перезарядке.
- `GetRemainingCooldown()`: Возвращает оставшееся время перезарядки в секундах.

---

## 6. Unity Events

- `OnEvadeStarted`: Вызывается в момент начала уклонения.
- `OnReloadProgress`: Вызывается каждый кадр **во время перезарядки**. Передает `float` (прогресс от 0 до 1).
- `OnEvadeCompleted`: Вызывается по окончании действия уклонения.
- `OnReloadStarted`: Вызывается в момент начала перезарядки.
- `OnReloadCompleted`: Вызывается, когда уклонение снова готово к использованию.
