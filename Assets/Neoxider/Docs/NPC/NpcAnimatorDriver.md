# NpcAnimatorDriver

Компонент **автоматического управления аниматором** NPC по скорости NavMeshAgent: в каждом кадре выставляет параметры **Speed** (float, 0..1) и **IsMoving** (bool). Добавьте на тот же объект, что **NpcNavigation** и **NavMeshAgent** — анимации ходьбы/бега будут включаться при движении без дополнительного кода.

## Поля

| Поле | Описание |
|------|----------|
| **Animator** | Animator для управления. Если не задан — берётся с этого объекта. |
| **Speed Parameter** | Имя параметра Animator (Float): нормализованная скорость 0..1. По умолчанию `Speed`. |
| **Is Moving Parameter** | Имя параметра Animator (Bool): движется ли агент. По умолчанию `IsMoving`. |
| **Damp Time** | Время сглаживания перехода скорости (сек). |

## Требования к Animator

В контроллере аниматора должны быть параметры с выбранными именами:

- **Float** — для скорости (например переход Idle ↔ Walk по значению).
- **Bool** — для «в движении» (опционально, можно использовать только Speed).

Имена по умолчанию: `Speed`, `IsMoving`. Если в вашем контроллере другие имена — задайте их в полях компонента.

## Использование

1. На объекте NPC: **NavMeshAgent**, **NpcNavigation**, **Animator** (на том же объекте или на детях).
2. Добавьте **NpcAnimatorDriver** (Neoxider → NPC → NpcAnimatorDriver).
3. При необходимости укажите **Animator** и имена параметров.
4. Запустите сцену — при движении агента (патруль, преследование) аниматор будет получать обновления автоматически.

## Связанные компоненты

- **NpcNavigation** — навигация (патруль, преследование). NpcAnimatorDriver читает скорость из того же **NavMeshAgent**.
- **NpcAnimationCore** — внутренняя логика (pure C#), используется внутри NpcAnimatorDriver.
