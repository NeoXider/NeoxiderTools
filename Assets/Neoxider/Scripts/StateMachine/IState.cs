namespace Neo.StateMachine
{
    /// <summary>
    ///     Интерфейс для состояний в State Machine системе.
    ///     Определяет жизненный цикл состояния с методами входа, обновления и выхода.
    /// </summary>
    /// <remarks>
    ///     Все состояния должны реализовывать этот интерфейс для работы с StateMachine.
    ///     Методы OnFixedUpdate и OnLateUpdate опциональны и могут быть пустыми.
    /// </remarks>
    /// <example>
    ///     <code>
    /// public class IdleState : IState
    /// {
    ///     public void OnEnter()
    ///     {
    ///         Debug.Log("Entered Idle State");
    ///     }
    ///     
    ///     public void OnUpdate()
    ///     {
    ///         // Логика обновления состояния
    ///     }
    ///     
    ///     public void OnExit()
    ///     {
    ///         Debug.Log("Exited Idle State");
    ///     }
    ///     
    ///     public void OnFixedUpdate()
    ///     {
    ///         // Физика (опционально)
    ///     }
    ///     
    ///     public void OnLateUpdate()
    ///     {
    ///         // Поздние обновления (опционально)
    ///     }
    /// }
    /// </code>
    /// </example>
    public interface IState
    {
        /// <summary>
        ///     Вызывается при входе в состояние.
        ///     Используется для инициализации состояния, активации анимаций, включения компонентов и т.д.
        /// </summary>
        /// <remarks>
        ///     Этот метод вызывается один раз при переходе в состояние, перед первым вызовом OnUpdate.
        /// </remarks>
        void OnEnter();

        /// <summary>
        ///     Вызывается каждый кадр, пока состояние активно.
        ///     Используется для основной логики состояния.
        /// </summary>
        /// <remarks>
        ///     Вызывается каждый кадр через StateMachine.Update().
        ///     Не вызывается, если StateMachine не обновляется.
        /// </remarks>
        void OnUpdate();

        /// <summary>
        ///     Вызывается при выходе из состояния.
        ///     Используется для очистки ресурсов, деактивации компонентов, остановки анимаций и т.д.
        /// </summary>
        /// <remarks>
        ///     Этот метод вызывается один раз при переходе из состояния, после последнего вызова OnUpdate.
        /// </remarks>
        void OnExit();

        /// <summary>
        ///     Вызывается каждый фиксированный кадр (FixedUpdate), пока состояние активно.
        ///     Используется для физики и других операций, требующих фиксированного интервала времени.
        /// </summary>
        /// <remarks>
        ///     Опциональный метод. Может быть пустым, если физика не требуется.
        ///     Вызывается через StateMachine.FixedUpdate().
        /// </remarks>
        void OnFixedUpdate();

        /// <summary>
        ///     Вызывается каждый кадр после всех обновлений (LateUpdate), пока состояние активно.
        ///     Используется для операций, которые должны выполняться после всех обновлений.
        /// </summary>
        /// <remarks>
        ///     Опциональный метод. Может быть пустым, если поздние обновления не требуются.
        ///     Вызывается через StateMachine.LateUpdate().
        /// </remarks>
        void OnLateUpdate();
    }
}