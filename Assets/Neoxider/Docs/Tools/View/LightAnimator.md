# Компонент Light Animator

## 1. Введение

`LightAnimator` — это универсальный компонент для создания динамических световых эффектов в Unity. Он позволяет анимировать интенсивность и цвет как стандартных компонентов `Light`, так и `Light2D` из Universal Render Pipeline (URP). Это даёт возможность легко настраивать эффекты мерцания, пульсации, затухания и органичного "живого" света с помощью шума Перлина без написания кода.

Компонент спроектирован для максимальной гибкости: он автоматически определяет, какой тип источника света используется (`Light` или `Light2D`), и работает с ним, не требуя наличия URP в проекте.

---

## 2. Описание класса

### LightAnimator
- **Пространство имен**: Глобальное
- **Путь к файлу**: `Assets/Neoxider/Scripts/Tools/View/LightAnimator.cs`
- **Требуемые компоненты**: `Light` или `UnityEngine.Rendering.Universal.Light2D`. Скрипт автоматически обнаружит один из этих компонентов на том же GameObject.

**Описание**
Этот компонент процедурно анимирует свойства источника света с течением времени. Он предлагает несколько режимов анимации, от простого случайного мерцания до более сложных вариаций на основе шума Перлина.

### 2.1. Настройки анимации
- `animationType` (`AnimationType`): Тип анимации, применяемой к свету.
  - `RandomFlicker`: Случайным образом изменяет интенсивность в диапазоне от `minIntensity` до `maxIntensity` каждый кадр.
  - `Pulsing`: Создает эффект плавной пульсации с использованием синусоиды.
  - `SmoothTransition`: Плавно изменяет интенсивность между минимальным и максимальным значениями.
  - `PerlinNoise`: Изменяет интенсивность с помощью шума Перлина для создания более естественного, органичного эффекта.
  - `SinWave`: Изменяет интенсивность по синусоиде.

### 2.2. Настройки интенсивности
- `minIntensity` (`float`): Минимальное значение интенсивности для анимации.
- `maxIntensity` (`float`): Максимальное значение интенсивности для анимации.
- `animationSpeed` (`float`): Скорость анимации интенсивности.

### 2.3. Настройки шума (для типа PerlinNoise)
- `noiseScale` (`float`): Масштаб шума Перлина. Влияет на частоту и "детализацию" изменений.
- `use2DNoise` (`bool`): Если `true`, используется 2D-шум Перлина. В противном случае — 1D.
- `noiseOffset` (`Vector2`): Смещение для координат шума, позволяющее получить разные вариации анимации.

### 2.4. Настройки цвета
- `changeColor` (`bool`): Если `true`, цвет источника света будет анимироваться.
- `targetColor` (`Color`): Целевой цвет, к которому будет происходить переход. Анимация интерполирует цвет между исходным и этим значением.
- `colorBlendSpeed` (`float`): Скорость перехода цвета.

### 2.5. Настройки отладки
- `enableDebugging` (`bool`): Если `true`, в консоль будут выводиться отладочные сообщения с текущими параметрами анимации.

---

## 3. Как использовать

1.  **Добавьте источник света**: На `GameObject` в вашей сцене добавьте компонент `Light` (для 3D) или `Light2D` (если вы используете URP).
2.  **Добавьте `LightAnimator`**: На тот же `GameObject` добавьте компонент `LightAnimator`. Он автоматически обнаружит источник света.
3.  **Настройте анимацию**: В инспекторе выберите `animationType` из выпадающего списка.
4.  **Настройте интенсивность**: Отрегулируйте `minIntensity`, `maxIntensity` и `animationSpeed`, чтобы управлять анимацией яркости.
5.  **Настройте цвет (опционально)**: Если вы хотите анимировать цвет, включите `changeColor`, выберите `targetColor` и настройте `colorBlendSpeed`.
6.  **Настройте шум (для PerlinNoise)**: Если вы используете `PerlinNoise`, вы можете изменить `noiseScale` и другие параметры шума для достижения желаемого эффекта.
7.  **Запустите сцену**: Анимация света начнется автоматически. При выключении компонента или объекта его интенсивность и цвет вернутся к исходным значениям.
